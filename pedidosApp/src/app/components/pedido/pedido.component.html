<div class="container">
    <h2>Criar Pedido</h2>
    <form (ngSubmit)="salvarPedido()">
        <p>
            <label style="width: 150px;" for="nomeCliente">Nome Cliente:</label>
            <input type="text" id="nomeCliente" [(ngModel)]="novoPedido.nomeCliente" name="nomeCliente">
        </p>
        <p>
            <label for="emailCliente">Email:</label>
            <input type="email" id="emailCliente" [(ngModel)]="novoPedido.emailCliente" name="emailCliente">
        </p>
        <p>
            <label for="pago">Pago:</label>
            <input type="checkbox" id="pago" [(ngModel)]="novoPedido.pago" name="pago">
        </p>

        <div>
            <h3>Itens do Pedido</h3>
            <div>
                <label for="produto">Produto:</label>
                <select [(ngModel)]="produtoSelecionadoId" name="produto">
                <option *ngFor="let produto of produtos" [value]="produto.id">
                    {{ produto.nome }}
                </option>
                </select>
            </div>
            <div>
                <label for="quantidade">Quantidade:</label>
                <input type="number" [(ngModel)]="quantidade" name="quantidade" min="1" required />
                <button type="button" (click)="adicionarItem()">Adicionar Item</button>
            </div>

            <ul>
                <li *ngFor="let item of itensPedido; let i = index">
                {{ item.nomeProduto }} - {{ item.quantidade }} unidades
                <button type="button" (click)="removerItem(i)">Remover</button>
                </li>
            </ul>
        </div>
        <div>
            <button type="submit">Salvar Pedido</button>
        </div>
    </form>
</div>
<div class="container">
    <h1 class="text-center">Lista de Produtos</h1>
    <table class="table table-striped">
        <thead>
            <tr>
            <th>ID</th>
            <th>Nome Cliente</th>
            <th>Email</th>
            <th>Valor Total</th>
            <th>Pago</th>
            <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let pedido of pedidos">
            <td>{{ pedido.id }}</td>
            <td>{{ pedido.nomeCliente }}</td>
            <td>{{ pedido.emailCliente }}</td>
            <td>{{ pedido.valorTotal }}</td>
            <td>{{ pedido.pago ? "Sim" : "Não" }}</td>
            <td>
                <button (click)="excluirPedido(pedido.id)">Excluir</button>
                <button (click)="editarPedido(pedido)">Editar</button>
            </td>
            </tr>
        </tbody>
    </table>
</div>

